
@media (prefers-reduced-motion: reduce) {
    ::view-transition-group(*),
    ::view-transition-old(*),
    ::view-transition-new(*) {
        animation: none !important;
    }
}

/*
MPA 에서 효과가 발생하는데, no JS에도 브라우저만 지원하면 동작하지만, 아직 까지 버그있음
동작이 끊어지면서 재생됨
*/
@view-transition {
    navigation: auto;
}

/* 내용만 교체되는 컴포넌트를 위한 트랜지션*/
/*[style*='--view-transition-name'] {*/
/*	view-transition-name: var(--view-transition-name);*/
/*}*/

/* border-outer, border-inner */
::view-transition-group(.border-outer),
::view-transition-group(.border-inner) {
    border-radius: var(--outer-border-radius);
    animation-duration: var(--default-animation-duration);
    animation-delay: var(--default-anmiation-delay);
}

/*::view-transition-old(.border-outer),*/
/*::view-transition-new(.border-outer),*/
/*::view-transition-old(.border-inner),*/
/*::view-transition-new(.border-inner) {*/
/*	display: none;*/
/*}*/

/* border-content */
::view-transition-group(.border-content) {
    animation-duration: var(--default-animation-duration);
    animation-delay: var(--default-animation-duration);
}

/* 헤더 */
/* 헤더-아우터 */
/*::view-transition-group(border-outer-header) {*/
/*	background-color: var(--color-default-black);*/
/*	border-radius: var(--outer-border-radius);*/
/*	animation-duration: var(--default-animation-duration);*/
/*	animation-delay: var(--default-anmiation-delay);*/
/*}*/

/*::view-transition-image-pair(border-outer-header) {*/
/*	display: none;*/
/*}*/

/* 헤더-이너 */
::view-transition-old(border-inner-header) {
    animation-name: fade-out;
    animation-duration: var(--default-animation-duration);
}

::view-transition-new(border-inner-header) {
    animation-name: fade-in;
    animation-duration: var(--default-animation-duration);
    animation-delay: var(--default-anmiation-delay-new);
}

/* 콘텐츠 */
/* 콘텐츠-아우터 */
/*::view-transition-group(border-outer-content) {*/
/*	background-color: var(--color-default-black);*/
/*	border-radius: var(--outer-border-radius);*/
/*	animation-duration: var(--default-animation-duration);*/
/*	animation-delay: var(--default-anmiation-delay);*/
/*}*/

/*::view-transition-image-pair(border-outer-content) {*/
/*	display: none;*/
/*}*/

/* 보더 공통 트랜지션 */
::view-transition-group(.border-outer),
::view-transitino-group(.border-inner) {
    animation-duration: var(--default-animation-duration);
    animation-delay: var(--default-anmiation-delay);
}

/* after view transition */
::view-transition-group(.after-view-transition) {
    animation-duration: var(--default-animation-duration);
    animation-delay: var(--default-animation-duration);
}

/* 콘텐츠-아우터 */
::view-transition-group(border-outer-article) {}
::view-transition-image-pair(border-outer-article) {}

::view-transition-old(border-outer-article),
::view-transition-new(border-outer-article),
::view-transition-old(border-outer-category),
::view-transition-new(border-outer-category) {
    border-radius: var(--outer-border-radius);
    overflow: clip;
    background-color: var(--color-default-black);
    block-size: 100%;
}

::view-transition-old(border-outer-article):only-child,
::view-transition-old(border-outer-category):only-child {
    animation-name: to-zero;
}

::view-transition-new(border-outer-article):only-child,
::view-transition-new(border-outer-category):only-child {
    animation-name: to-zero;
    animation-direction: reverse;
    animation-delay: var(--default-anmiation-delay);
}

/* 콘텐츠-이너 */
::view-transition-group(border-inner-article) {}
::view-transition-image-pair(border-inner-article) {}

::view-transition-old(border-inner-article),
::view-transition-new(border-inner-article),
::view-transition-old(border-inner-category),
::view-transition-new(border-inner-category) {
    border-radius: var(--inner-border-radius);
    overflow: clip;
    background-color: var(--color-default-white);
    block-size: 100%;
}

::view-transition-old(border-inner-article):only-child,
::view-transition-old(border-inner-category):only-child {
    animation-name: to-zero-inner;
}

::view-transition-new(border-inner-article):only-child,
::view-transition-new(border-inner-category):only-child {
    animation-name: to-zero-inner;
    animation-direction: reverse;
    animation-delay: var(--default-anmiation-delay);
}

/* 콘텐츠-아티클 */
::view-transition-old(border-content-article),
::view-transition-old(border-content-category) {
    animation-name: fade-out;
    animation-duration: var(--default-animation-duration);
}

::view-transition-new(border-content-article),
::view-transition-new(border-content-category) {
    animation-name: fade-in;
    animation-duration: var(--default-animation-duration);
    animation-delay: var(--default-anmiation-delay-new);
}

/* 푸터, 움직임만 추적 */
/*::view-transition-group(footer) {*/
/*	animation-duration: var(--default-animation-duration);*/
/*	animation-delay: var(--default-animation-duration);*/
/*}*/

@keyframes fade-out {
    to {
        opacity: 0;
    }
}

@keyframes fade-in {
    from {
        opacity: 0;
    }
}

@keyframes to-zero {
    from {
        block-size: 100%;
    }
    to {
        /*block-size: calc(var(--default-border-width) * 4);*/
        block-size: 0;
    }
}

@keyframes to-zero-inner {
    from {
        block-size: 100%;
    }
    to {
        /*block-size: calc(var(--default-border-width) * 2);*/
        block-size: 0;
    }
}
